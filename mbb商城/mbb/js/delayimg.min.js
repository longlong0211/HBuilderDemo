window.delayimg=(function(g,j,d){var k=[],a,f,l,h,i;var c=function(o){var p=o.getBoundingClientRect();return(((p.top>=0&&p.left>=0&&p.top)<=(g.innerHeight||j.documentElement.clientHeight)+parseInt(f))&&p.bottom+40>0&&p.width+p.height>0)};var e=function(){for(var o=k.length;o--;){var p=k[o][0];if(c(p)){if(p.getAttribute("data-delay-background")!==null){p.style.backgroundImage="url("+p.getAttribute("data-delay-background")+")";p.removeAttribute("data-delay-background")}else{p.src=p.getAttribute("data-delay")||k[o][1];p.onload=function(){p.removeAttribute("data-delay")}}k.splice(o,1)}}};var n=function(){clearTimeout(i);i=setTimeout(e,l);if(k.length<=0){h.removeEventListener("scroll",n)}};var m=function(p){k=[];a=j.querySelectorAll("img[data-delay],[data-delay-background]");var p=p||{};f=p.offset||0;l=p.throttle||250;h=p.content||g;for(var o=0;o<a.length;o++){k.unshift([a[o],a[o].getAttribute("data-delay")])}n();h.addEventListener("scroll",n,false)};var b=function(){k=[];a=j.querySelectorAll("img[data-delay],[data-delay-background]");for(var o=0;o<a.length;o++){k.unshift([a[o],a[o].getAttribute("data-delay")])}n();h.addEventListener("scroll",n,false)};return{init:m,render:b}})(window,document);